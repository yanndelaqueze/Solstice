<!-- Case 1 / Category is in the params -->
<% if params[:category_id] %>
  <%= form_for [@category, @product] do |f| %>
    <div class="form-group">
      <%= f.label :name, "Nom du produit" %>
      <%= f.text_field :name, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :description %>
      <%= f.text_area :description, class: 'form-control'  %>
    </div>

    <div class="form-group">
      <%= f.label :min_price %>
      <%= f.number_field :min_price, class: 'form-control'  %>
    </div>

    <div class="form-group">
      <%= f.submit 'Créer', class: 'btn btn-action'  %>
    </div>
  <% end %>
  <%= link_to 'Back', category_path(@category) %>

<!-- Case 2 / Category is NOT in the params / User has to choose it with a dropdown -->
<% else %>
  <%= form_with(model: @product, url: products_path, local: true) do |form| %>
  <div class="form-group">
    <%= form.label :name %>
    <%= form.text_field :name, class: 'form-control'  %>
  </div>
  <div class="form-group">
    <%= form.label :description %>
    <%= form.text_area :description, class: 'form-control'  %>
  </div>
  <div class="form-group">
    <%= form.label :min_price %>
    <%= form.number_field :min_price, class: 'form-control'  %>
  </div>
  <div class="form-group">
    <%= form.label :category_id %>
    <%= form.collection_select :category_id, @categories, :id, :name, prompt: 'Select a category', class: 'form-control'  %>
  </div>
  <div class="form-group">
    <%= form.submit 'Créer', class: 'btn btn-action'  %>
  </div>
<% end %>
  <%= link_to 'Back', products_path %>
<% end %>
