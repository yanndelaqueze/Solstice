<h1 class= "title">Mon panier</h1>
<div class="container">
  <h3><%= pluralize(current_order.order_items.size, 'article') %> / Total : <%= current_order.subtotal  %>€ </h3>
  <div class="cart">
    <div class="cart-items">
      <% @order_items.each do |order_item| %>
        <%= render 'cart_item', order_item: order_item %>
      <% end %>
    </div>
    <div class="order-options">
      <div class="transport">
        <h3>Livraison / Collecte</h3>
        <p>Adresse : <%= @order.delivery_address %></p>
        <div class="delivery-form">
          <%= simple_form_for [@order] do |f| %>
            <%= f.input :transport, label: "Mode de livraison :", as: :radio_buttons, collection_wrapper_tag: "div", collection_wrapper_class: 'category-wrapper', item_wrapper_class: 'category-item', input_html: {class: 'category-selector'}, collection: Order::TRANSPORT%>
            <%= f.input :delivery_address,
            input_html: {data: {address_autocomplete_target: "address"}, class: "d-none"},
            wrapper_html: {data: {controller: "address-autocomplete", address_autocomplete_api_key_value: ENV["MAPBOX_API_KEY"]}}, label: "Adresse de livraison :"%>
            <%= f.input :date, as: :date, html5: true, label: "Date de livraison souhaitée :"  %>
            <%= f.submit "Valider", class: "btn-action"  %>
          <% end %>
        </div>
      </div>
      <div class="date">
        <p>DATE</p>
      </div>
    </div>
  </div>
</div>
